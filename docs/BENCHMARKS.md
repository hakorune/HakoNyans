# HakoNyans Benchmarks ðŸ“Š

## Phase 7b: Speed Optimization Report

**Date**: 2026-02-10
**Image**: HD 1920x1080 (Natural-like Gradient)
**Hardware**: 16-thread CPU (AVX2 enabled)

### 1. Decode Speed & Compression

| Codec | Quality | Size (KB) | PSNR (dB) | Decode Time (ms) |
|-------|---------|-----------|-----------|------------------|
| **HakoNyans** | **Q=75** | **508** | **13.0**\* | **36.0** |
| JPEG | Q=90 | 168 | 34.6 | 9.0 |
| JPEG-XL | D=1.0 | 60 | 34.5 | 35.8 |

*\*Note: Low PSNR due to active CfL bug. Grayscale PSNR is >40dB. Disabling CfL restores PSNR to ~31dB.*

### 2. Optimization Impact

| Step | Technique | Impact on Speed | Status |
|------|-----------|-----------------|--------|
| 1 | AAN IDCT (Int) | Neutral (interface only) | **Partial** |
| 2 | SIMD Color | Positive (part of 36ms) | **Done** |
| 3 | Memory Layout | Positive (robustness) | **Done** |
| - | **Total** | **27.4ms -> 36.0ms** | **Mixed** |

**Analysis**:
The decode time increased slightly compared to Phase 6 (27ms) due to the overhead of 4:2:0 upsampling and CfL reconstruction logic, which were added in Phase 7a. The SIMD optimizations helped mitigate this, but full IDCT SIMD implementation is required to reach the <20ms target.

### 3. Next Steps (Phase 7c)

1.  **Fix CfL/4:2:0 Artifacts**: Debug the chroma reconstruction pipeline to restore >35dB PSNR.
2.  **Full AVX2 IDCT**: Implement the IDCT core using AVX2 intrinsics (currently scalar).
3.  **Palette Mode**: Implement Screen profile features.

---
*Generated by Gemini CLI*