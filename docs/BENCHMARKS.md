# HakoNyans Benchmarks ðŸ“Š

## Screen Profile ãƒ™ãƒ³ãƒãƒžãƒ¼ã‚¯ (Phase 7c)

**Date**: 2026-02-11
**Hardware**: x86_64 (AVX2 enabled)
**Test Conditions**: Q75, 4:2:0, CfL enabled

### ã‚«ãƒ†ã‚´ãƒªåˆ¥ã‚µãƒžãƒªãƒ¼

| ã‚«ãƒ†ã‚´ãƒª | ã‚µã‚¤ã‚ºå¤‰åŒ– | PSNR | ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ | ãƒ‡ã‚³ãƒ¼ãƒ‰ | è©•ä¾¡ |
|---------|-----------|------|----------|----------|------|
| **UI Screenshots** | **-52.1%** â­ | +3.61 dB | 0.09x | 1.14x | å¤§æˆåŠŸ |
| **Game Screens** | +38.4% | +2.62 dB | 0.26x | 0.98x | æ··åˆ |
| **Photos** | +36.9% | +5.08 dB | 0.04x | 1.10x | æ‚ªåŒ–ï¼ˆæƒ³å®šå†…ï¼‰ |

### è©³ç´°ãƒ™ãƒ³ãƒãƒžãƒ¼ã‚¯çµæžœ

#### UI Screenshots (æŽ¨å¥¨)

| ç”»åƒ | ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ | Screen Profile | ã‚µã‚¤ã‚ºå¤‰åŒ– | PSNRå¤‰åŒ– | ãƒ‡ã‚³ãƒ¼ãƒ‰ |
|------|------------|---------------|-----------|---------|---------|
| browser | 464,277 B | 200,285 B | **-56.9%** | +6.21 dB | 1.13x |
| vscode | 422,487 B | 202,028 B | **-52.2%** | +1.75 dB | 1.13x |
| terminal | 377,288 B | 198,972 B | **-47.3%** | +2.87 dB | 1.16x |

#### Game Screenshots (æ··åˆ)

| ç”»åƒ | ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ | Screen Profile | ã‚µã‚¤ã‚ºå¤‰åŒ– | PSNRå¤‰åŒ– | ãƒ‡ã‚³ãƒ¼ãƒ‰ |
|------|------------|---------------|-----------|---------|---------|
| minecraft_2d | 232,307 B | 211,704 B | -8.9% | +1.48 dB | 0.94x |
| retro | 108,602 B | 201,651 B | **+85.7%** âŒ | +3.75 dB | 1.02x |

#### Photos (éžæŽ¨å¥¨)

| ç”»åƒ | ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ | Screen Profile | ã‚µã‚¤ã‚ºå¤‰åŒ– | PSNRå¤‰åŒ– | ãƒ‡ã‚³ãƒ¼ãƒ‰ |
|------|------------|---------------|-----------|---------|---------|
| kodim01 | 72,508 B | 99,145 B | +36.7% | +4.72 dB | 1.19x |
| kodim02 | 44,571 B | 45,772 B | +2.7% | +19.68 dB | 1.18x |
| kodim03 | 102,566 B | 113,298 B | +10.5% | -0.01 dB | 1.11x |
| hd_01 | 544,162 B | 1,075,822 B | **+97.7%** âŒ | -4.09 dB | 0.90x |

### æŠ€è¡“è©³ç´°

**Screen Profile ã®æœ€é©åŒ–æŠ€è¡“**:
- **Palette Mode**: â‰¤8è‰²ã®ãƒ–ãƒ­ãƒƒã‚¯ã‚’å‘¨æ³¢æ•°ãƒ™ãƒ¼ã‚¹ã§ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹åŒ–ï¼ˆDelta Paletteç¬¦å·åŒ–ï¼‰
- **2D Copy Mode (IntraBC)**: ç¹°ã‚Šè¿”ã—ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’SADãƒ™ãƒ¼ã‚¹ã§ãƒ–ãƒ­ãƒƒã‚¯ãƒžãƒƒãƒãƒ³ã‚°ï¼ˆÂ±64ãƒ–ãƒ­ãƒƒã‚¯ç¯„å›²ï¼‰
- **è‡ªå‹•ãƒ¢ãƒ¼ãƒ‰é¸æŠž**: Copy (å®Œå…¨ä¸€è‡´) â†’ Palette (â‰¤8è‰²) â†’ DCT (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ)

**ãƒ•ã‚¡ã‚¤ãƒ«ãƒ•ã‚©ãƒ¼ãƒžãƒƒãƒˆ v2**:
- BlockType ã‚¹ãƒˆãƒªãƒ¼ãƒ ï¼ˆ2-bit/blockã€RLEåœ§ç¸®ï¼‰
- Palette ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆãƒªãƒ¼ãƒ 
- Copy ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚¹ãƒˆãƒªãƒ¼ãƒ 

### æŽ¨å¥¨äº‹é …

#### âœ… Screen Profile ã‚’ä½¿ã†ã¹ãå ´åˆ
- **UI ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ**: ãƒ–ãƒ©ã‚¦ã‚¶ã€ã‚¨ãƒ‡ã‚£ã‚¿ã€ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã€OS UI
- **ãƒ†ã‚­ã‚¹ãƒˆå¤§é‡ã®å›³ç‰ˆ**: PDFã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã€ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³
- **ã‚¢ã‚¤ã‚³ãƒ³ãƒ»ãƒ­ã‚´**: ç¹°ã‚Šè¿”ã—ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒå¤šã„ç”»åƒ

**æœŸå¾…åŠ¹æžœ**: ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º **-50%** å‰Šæ¸›ã€PSNR +3.6 dBã€ãƒ‡ã‚³ãƒ¼ãƒ‰ 1.14x

#### âŒ Screen Profile ã‚’é¿ã‘ã‚‹ã¹ãå ´åˆ
- **å†™çœŸãƒ»è‡ªç„¶ç”»åƒ**: ã‚µã‚¤ã‚ºå¢—åŠ ï¼ˆ+37%ï¼‰ã€DCTåœ§ç¸®ãŒæœ€é©
- **ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å¤šã„ã‚²ãƒ¼ãƒ ç”»åƒ**: Palette/Copy ãƒ¢ãƒ¼ãƒ‰ãŒä¸é©åˆ‡
- **ãƒŽã‚¤ã‚ºãƒ»ãƒ†ã‚¯ã‚¹ãƒãƒ£ãŒå¤šã„ç”»åƒ**: ç¹°ã‚Šè¿”ã—ãƒ‘ã‚¿ãƒ¼ãƒ³ãªã—

#### âš ï¸ ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰æ€§èƒ½
- **0.09x** (UI), **0.26x** (Game) - å†™çœŸç”¨é€”ã® **2-10å€é…ã„**
- ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ç”¨é€”ãƒ»ãƒãƒƒãƒå‡¦ç†å‘ã‘
- IntraBCæ¤œç´¢ï¼ˆSADè¨ˆç®—ï¼‰ã¨PaletteæŠ½å‡ºãŒãƒœãƒˆãƒ«ãƒãƒƒã‚¯

---

## Phase 7b: Speed Optimization Report

**Date**: 2026-02-10
**Image**: HD 1920x1080 (Natural-like Gradient)
**Hardware**: 16-thread CPU (AVX2 enabled)

### 1. Decode Speed & Compression

| Codec | Quality | Size (KB) | PSNR (dB) | Decode Time (ms) |
|-------|---------|-----------|-----------|------------------|
| **HakoNyans** | **Q=75** | **508** | **13.0**\* | **36.0** |
| JPEG | Q=90 | 168 | 34.6 | 9.0 |
| JPEG-XL | D=1.0 | 60 | 34.5 | 35.8 |

*\*Note: Low PSNR due to active CfL bug. Grayscale PSNR is >40dB. Disabling CfL restores PSNR to ~31dB.*

### 2. Optimization Impact

| Step | Technique | Impact on Speed | Status |
|------|-----------|-----------------|--------|
| 1 | AAN IDCT (Int) | Neutral (interface only) | **Partial** |
| 2 | SIMD Color | Positive (part of 36ms) | **Done** |
| 3 | Memory Layout | Positive (robustness) | **Done** |
| - | **Total** | **27.4ms -> 36.0ms** | **Mixed** |

**Analysis**:
The decode time increased slightly compared to Phase 6 (27ms) due to the overhead of 4:2:0 upsampling and CfL reconstruction logic, which were added in Phase 7a. The SIMD optimizations helped mitigate this, but full IDCT SIMD implementation is required to reach the <20ms target.

### 3. Next Steps (Phase 7c)

1.  **Fix CfL/4:2:0 Artifacts**: Debug the chroma reconstruction pipeline to restore >35dB PSNR.
2.  **Full AVX2 IDCT**: Implement the IDCT core using AVX2 intrinsics (currently scalar).
3.  **Palette Mode**: Implement Screen profile features. âœ… **DONE**

---
*Generated by Gemini CLI*